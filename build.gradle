
allprojects {
	apply plugin: 'eclipse'

	// Project version
	version = '1.0.0'

	tasks.eclipse.dependsOn(cleanEclipse)

	repositories {
		maven {
			url "${artifactory_contextUrl}/libs-release"
		}
		mavenCentral()
	}

	eclipse {
		classpath {
			defaultOutputDir = file('eclipse-build')
		}
	}
}

subprojects {
	apply plugin: 'java'

	sourceCompatibility = 1.7
	compileJava.options.encoding = 'UTF-8'

	dependencies {
		compile 'org.projectlombok:lombok:1.14.4'
		compile 'com.google.guava:guava:17.0'
		compile 'org.slf4j:slf4j-api:1.7.7'

		testCompile 'junit:junit:4.11'
		testCompile 'org.mockito:mockito-core:1.9.5'
		testCompile 'org.slf4j:slf4j-simple:1.7.7'
	}
}

project(':2fa-google-auth') {
	dependencies {
	}
}

project(':2fa-google-qr') {
	dependencies {
		compile project(':2fa-google-auth')
		compile 'com.google.zxing:javase:3.1.0'
		compile 'com.google.zxing:core:3.1.0'
	}
}

project(':2fa-yubikey') {
	dependencies {
		compile 'com.yubico:yubico-validation-client2:2.0.1'
	}
}

project(':2fa-demo-webapp') {
	apply plugin: 'war'

	dependencies {
		compile project(':2fa-google-auth')
		compile project(':2fa-google-qr')
		compile project(':2fa-yubikey')

		compile 'org.slf4j:slf4j-log4j12:1.7.7'
		compile 'org.springframework:spring-context:4.0.6.RELEASE'
		compile 'org.springframework:spring-webmvc:4.0.6.RELEASE'
		compile 'org.springframework:spring-tx:4.0.6.RELEASE'
		compile 'org.springframework:spring-orm:4.0.6.RELEASE'
		compile 'org.hibernate:hibernate-entitymanager:4.3.6.Final'
		compile 'org.hibernate:hibernate-validator:5.1.2.Final'
		compile 'org.codehaus.jackson:jackson-core-asl:1.9.13'
		compile 'org.codehaus.jackson:jackson-mapper-asl:1.9.13'
		compile 'org.mindrot:jbcrypt:0.3m'

		providedCompile 'org.projectlombok:lombok:1.14.4'
		providedCompile 'javax.servlet:javax.servlet-api:3.0.1'
	}
}
